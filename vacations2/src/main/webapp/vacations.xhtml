<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html">
   <head>
     <title>IGNORED</title>
     <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />   	 
   </head>
   <body>
     <ui:composition template="/templates/masterLayout.xhtml">     
         <ui:define name="windowTitle">
         	Начислення            
         </ui:define>          	
         <ui:define name="content">
        
        <h:form id = "vacForm"> 
       	<div>       	
       		<h4>
       		<h:selectOneMenu styleClass="bootstrap-select" value="#{employeesBean.selectedItem}">
       			<f:selectItems value="#{employeesBean.employeesList}" var="empl" 
       				itemLabel="#{empl.name}" itemValue="#{empl.idEmploees}">       				      				
       			</f:selectItems>
       			<f:ajax event="change" listener="#{employeesBean.setItemEmployeeDropDown}" render="vacForm"/> 
       		</h:selectOneMenu>
       		</h4>	
       		       		          		          		        	        	 	
       	 	<table>
       	 		<tr>
       	 			<td><h4>Всього нараховано:</h4></td>
       				<td><h4><span class="label label-success">#{employeesBean.posSum}</span></h4></td>       					
       			</tr>
       			<tr>
       				<td><h4>Всього використано:</h4></td>
       				<td><h4><span class="label label-warning">#{employeesBean.negSum}</span></h4></td>
       			</tr>
       			<tr>
       				<td><h4>Баланс:</h4></td>
       				<td><h4><span class="label label-primary">#{employeesBean.sum}</span></h4></td>
       			</tr>       			 	
      		</table>
       	</div>                  	         	                		        		
      		
      		<h:dataTable id="dataTable" 
      			class="table table-bordered table-hover" 
      			value="#{vacationsBean.vacationList}" var="accrual">      			         			          	
          		           		
         		<h:column>
         		 	<f:facet name="header">Дата</f:facet>
            			<h:outputText value="#{accrual.date}">
            				 <f:convertDateTime pattern="dd.MM.yyyy" timeZone="Europe/Kiev"/>
            			</h:outputText>
         		</h:column>

         		<h:column>
         			<f:facet name="header">Причина</f:facet>
            			#{accrual.reason}
         		</h:column>
         		
         		<h:column>
         			<f:facet name="header">Кількість</f:facet>
            			#{accrual.volume}
         		</h:column>
         		
         		<h:column>
         			<f:facet name="header">Коментар</f:facet>
            			#{accrual.note}
         		</h:column>
      			      	             	 	            	 	
      		</h:dataTable>				
		 </h:form>
         </ui:define>         
      </ui:composition>
   </body>
</html>